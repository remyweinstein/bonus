(self.webpackChunkbonus_stolica=self.webpackChunkbonus_stolica||[]).push([[179],{4264:(e,t,n)=>{e.exports=n(7588)},7588:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),i=new I(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return C()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function y(){}function v(){}function g(){}var _={};c(_,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(j([])));w&&w!==n&&r.call(w,a)&&(_=w);var k=g.prototype=y.prototype=Object.create(_);function L(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function j(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:C}}function C(){return{value:t,done:!0}}return v.prototype=g,c(k,"constructor",g),c(g,"constructor",v),v.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},L(S.prototype),c(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new S(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(k),c(k,s,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},5579:(e,t,n)=>{"use strict";n(3457)},3457:(e,t,n)=>{"use strict";n.d(t,{S:()=>m});var r=n(9314),o=n(9787),a=n(6145),i=n(5499),s=n(5289),c=n(6215),l=n(7887);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"click",value:function(){}},{key:"clickLink",value:function(){}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=n(1244),p=r._j,h=new d;function m(){var e=(0,o.If)()?(0,o.If)():"adult";(0,a.s)(),overlay.addEventListener("click",(function(){overlay.callback?(overlay.style.opacity=0,overlay.style.display="none",overlay.callback()):(0,l.j)({duration:333,timing:l.i,draw:function(e,t){overlay.style.opacity=1-e},callback:function(e){overlay.style.display="none"}})})),document.querySelector("#top-nav").style.display=p[e]&&p[e].title?"":"none",document.querySelector("#top-nav-back").style.display=p[e]&&p[e].prevSection?"":"none",document.querySelector("#top-nav-msg").style.display=p[e]&&!p[e].prevSection?"":"none",document.querySelector("#top-nav-title").innerText=p[e].title,document.querySelector("#top-nav-menu").style.display=p[e]&&p[e].showMenu?"":"none",document.querySelector("#top-nav-close").style.display=-1===["alerts"].indexOf(e)?"none":"",document.querySelector("#bottom-nav").style.display=p[e]&&p[e].showMenu?"":"none",document.querySelectorAll(".bottom-nav-element").forEach((function(t){t.classList.remove("current-section"),t.dataset.linkSection===e&&t.classList.add("current-section")})),(0,f.s)(document.querySelector("#feedback-phone"),"+7 (___) ___ ____",3),(0,i.remove)(".store_map"),clearTimeout(window.walletUpdater),(0,i.hideLoader)()}document.addEventListener("DOMContentLoaded",(function(){m(),h.clickLink=function(e){for(var t=e.target;t!==this;){if(!t)return;if(t.hasAttribute("data-link-section")&&(0,s.run)(t.dataset.linkSection),t.hasAttribute("data-click")){var n=t.dataset.click.split(".");(0,i.findFunction)(n[1],n[0])}if("topnav-feedback"===t.id||"top-nav-msg"===t.id)return void(feedback.style.display="");if("feedback-submit"===t.id)return void(0,c.setFeedback)();if("closeFeedback"===t.id)return void(feedback.style.display="none");if(!t)break;t=t.parentNode}},document.addEventListener("click",h.clickLink);var e=(0,o.If)();(0,c.checkAuthorization)().then((function(t){t.status?-1===["wallet","news","personal","stores","refer"].indexOf(e)&&(e="wallet"):e=e||"adult"})),(0,s.run)(e)}),!1)},9314:(e,t,n)=>{"use strict";n.d(t,{r6:()=>r,z0:()=>o,Kp:()=>a,Fb:()=>i,T5:()=>s,qy:()=>c,HA:()=>l,Zw:()=>u,lw:()=>d,_j:()=>f});var r=512,o=328,a="/assets/card_back.jpg",i="LS_walletData_081221_01",s="https://bonus.stolica-dv.ru/api",c="/politika-konfidentsialnosti",l="/pravila",u="LS_BearerToken",d=document.querySelector(".main-app-space"),f={adult:{hash:"#adult",title:""},rules:{hash:"#rules",title:"Правила проведения акции",showMenu:!0,prevSection:"refer"},intro:{hash:"#intro",title:""},registration:{hash:"#",title:"Регистрация",prevSection:"pre_registration"},pre_registration:{hash:"#pre_registration",title:"Выбор города",prevSection:"intro"},authorization:{hash:"#authorization",title:"Вход",prevSection:"intro"},reset:{hash:"#reset",title:"Сброс пароля",prevSection:"authorization"},personal:{hash:"#personal",title:"Профиль",showMenu:!0},wallet:{hash:"#wallet",title:"Кошелек",showMenu:!0},news:{hash:"#news",title:"Новости",showMenu:!0},refer:{hash:"#refer",title:"Приглашение",showMenu:!0},stores:{hash:"#stores",title:"Магазины",showMenu:!0},reg_success:{hash:"#reg_success",title:"Профиль"},alerts:{hash:"#alerts",title:"Подписки и уведомления",showMenu:!0},personal_update:{hash:"#personal_update",title:"Смена данных",showMenu:!0,prevSection:"personal"},set_plastic:{hash:"#set_plastic",title:"Привязка карты",showMenu:!0,prevSection:"personal_update"}}},7887:(e,t,n)=>{"use strict";function r(e){var t=performance.now();requestAnimationFrame((function n(r){var o=(r-t)/e.duration;o>1&&(o=1);var a=e.timing(o);e.draw(a,e),o<1?requestAnimationFrame(n):void 0!==e.callback&&e.callback(e)}))}function o(e){return Math.pow(e,2)}n.d(t,{j:()=>r,i:()=>o})},6215:(e,t,n)=>{"use strict";n.r(t),n.d(t,{setFeedback:()=>d,reg:()=>f,getReferLink:()=>y,getResetConfirmationCode:()=>g,checkAuthorization:()=>b,checkResetConfirmationCode:()=>w,updateCities:()=>L,confirmation:()=>x,confirmationReset:()=>E,auth:()=>j,logOff:()=>O});var r=n(4390),o=n(4264),a=n.n(o),i=n(9314),s=n(9787),c=n(6145),l=n(5499),u=n(7887);function d(){var e,t=document.getElementById("feedback-submit");t.disabled=!0,(0,l.showLoader)(),(e=JSON.stringify({method:"setFeedback",data:{name:document.getElementById("feedback-name").value,phone:document.getElementById("feedback-phone").value,email:document.getElementById("feedback-email").value,reason:document.getElementById("feedback-reason").value,message:document.getElementById("feedback-message").value}}),fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:e}).then((function(e){return e.json()})).catch((function(e){return{status:!1,description:e.message,error:e}}))).then((function(e){console.log(e),e.status?((0,c.U)("Готово","Ваше сообщение передано оператору"),hideFeedback(),document.getElementById("feedback-message").value=""):onErrorCatch(e)})).finally((function(){t.disabled=!1,(0,l.hideLoader)()}))}function f(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,reg_birthdate.value&&(n=reg_birthdate.value.split("-"),t=[n[2],n[1],n[0]].join("-")),lastPhone=reg_phone.value,reg_button.disabled=!0,(0,l.showLoader)(),e.next=7,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({method:"registration",data:{phone:reg_phone.value,pass:reg_pass.value,firstname:reg_firstname.value,birthdate:t,discount:discount.checked?1:0,email:reg_email.value,city:city.value}})});case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,reg_button.disabled=!1,(0,l.hideLoader)(),o.status?o.data&&o.data.need_confirmation&&(registration_cont.style.display="none",reg_confirmation.style.display="",reg_confirmation_code.scrollIntoView(),reg_confirmation_code.classList.toggle("fail"),reg_confirmation_code.focus(),reg_confirmation_code_popup.classList.toggle("show"),m(o)):o.description&&(0,c.U)("",o.description);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){resetCodeTimerValue=e-1,reset_confirmation_time.style.display="",reset_confirmation_time.innerText=resetCodeTimerValue+" сек.",resetCodeTimer&&clearInterval(resetCodeTimer),resetCodeTimer=setInterval((function(){reset_confirmation_time.style.display="",reset_confirmation_time.innerText=resetCodeTimerValue+" сек.",resetCodeTimerValue--,resetCodeTimerValue||(reset_button.disabled=!1,reset_confirmation_time.style.display="none",resetCodeTimer&&clearInterval(resetCodeTimer))}),1e3)}function m(e){confirmation_button_reset.style.display="none",secondsLeft=e.data.seconds_left,reg_confirmation_code_popup.innerText=e.description,reg_confirmation_info.innerText=e.description,reg_confirmation_remind.innerText="Повторная отправка будет доступна через "+secondsLeft+" сек.",secondsInterval&&clearInterval(secondsInterval),secondsInterval=setInterval((function(){secondsLeft--,reg_confirmation_remind.innerText="Повторная отправка будет доступна через "+secondsLeft+" сек.",secondsLeft<=0&&(clearInterval(secondsInterval),reg_confirmation_remind.innerText="",confirmation_button_reset.style.display="")}),1e3)}function y(){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"getReferLink"},e.next=3,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer "+(0,s.Oj)()},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!reset_phone.value){e.next=10;break}return reset_button.disabled=!0,t={method:"getResetConfirmationCode",data:{phone:reset_phone.value}},e.next=5,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).status?(reset_confirmation.style.opacity=0,reset_confirmation.style.display="",(0,u.j)({duration:1e3,timing:u.i,draw:function(e,t){reset_confirmation.style.opacity=e},callback:function(e){}}),reset_confirmation_info.innerText=r.description,r.data.seconds_left&&h(r.data.seconds_left)):(reset_button.disabled=!1,(0,c.U)("Внимание",r.description));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer "+(0,s.Oj)()},body:JSON.stringify({method:"checkAuthorization"})}).then((function(e){return e.json()})).catch((function(e){return{status:!1,description:e.message,error:e}}))}function w(){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(reset_phone.value.length<16)){e.next=6;break}return reset_phone.scrollIntoView(),reset_phone.classList.add("fail"),reset_phone.focus(),reset_phone_popup.classList.toggle("show"),e.abrupt("return");case 6:if(!(reset_confirmation_code.value.length<4)){e.next=11;break}return reset_confirmation_code.scrollIntoView(),reset_confirmation_code.classList.add("fail"),reset_confirmation_code.focus(),e.abrupt("return");case 11:return reset_confirmation_button.disabled=!0,t={method:"checkResetConfirmationCode",data:{phone:reset_phone.value,code:reset_confirmation_code.value}},e.next=15,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 15:return n=e.sent,e.next=18,n.json();case 18:r=e.sent,reset_confirmation_button.disabled=!1,r.status?Router.run("wallet"):(0,c.U)("Внимание",r.description,null,null,(function(){reset_confirmation_code.value="",reset_confirmation_code.focus()}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(city.children.length){e.next=8;break}return e.next=3,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({method:"getCities"})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).status&&n.data.forEach((function(e){var t=document.createElement("option");t.value=e.id,t.innerText=e.title,t.setAttribute("default-discount",e.default_discount),2===e.status&&(t.selected="selected"),city.appendChild(t)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(reg_confirmation_code.value.length<4)){e.next=6;break}return reg_confirmation_code.scrollIntoView(),reg_confirmation_code.classList.add("fail"),reg_confirmation_code.focus(),reg_confirmation_code_popup.classList.toggle("show"),e.abrupt("return");case 6:if(!lastPhone||!reg_confirmation_code.value){e.next=19;break}return confirmation_button.disabled=!0,(0,l.showLoader)(),t={method:"confirmation",data:{phone:lastPhone,code:reg_confirmation_code.value}},e.next=12,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 12:return n=e.sent,e.next=15,n.json();case 15:r=e.sent,confirmation_button.disabled=!1,(0,l.hideLoader)(),r.status?void 0===r.data.setNewPassword?Router.run("reg_success"):Router.run("intro"):r.description&&(reg_confirmation_code.value="",(0,c.U)("Внимание",r.description));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lastPhone){e.next=11;break}return confirmation_button_reset.disabled=!0,t={method:"confirmationReset",data:{phone:lastPhone}},e.next=5,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,confirmation_button_reset.disabled=!1,r.status&&m(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==auth_phone.value){e.next=6;break}return auth_phone.scrollIntoView(),auth_phone.classList.toggle("fail"),auth_phone.focus(),auth_phone_popup.classList.toggle("show"),e.abrupt("return");case 6:if(""!==auth_pass.value){e.next=12;break}return auth_pass.scrollIntoView(),auth_pass.classList.toggle("fail"),auth_pass.focus(),auth_pass_popup.classList.toggle("show"),e.abrupt("return");case 12:if(!auth_phone.value||!auth_pass.value){e.next=23;break}return auth_button.disabled=!0,t={method:"authorization",data:{phone:auth_phone.value,pass:auth_pass.value}},e.next=17,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 17:return n=e.sent,e.next=20,n.json();case 20:r=e.sent,auth_button.disabled=!1,r.status?((0,s.qF)(),(0,s.zc)("wallet"),(0,s.w)(r.data.token),location.reload()):(0,c.U)("",r.description);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"logOff"},e.next=3,fetch(i.T5,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return(r=e.sent).status&&((0,s.qF)(),location.reload()),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addClass:()=>S,changeTabs:()=>d,closeNav:()=>p,confirmAdult:()=>m,findFunction:()=>_,hideLoader:()=>g,modifyInput:()=>u,openNav:()=>f,remove:()=>L,removeChildrens:()=>h,removeClass:()=>x,showLoader:()=>v,showRules:()=>k,showTerms:()=>w,siblings:()=>j,toggleClass:()=>T,togglePassword:()=>y});var r={};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.r(r),n.d(r,{addClass:()=>S,changeTabs:()=>d,closeNav:()=>p,confirmAdult:()=>m,findFunction:()=>_,hideLoader:()=>g,modifyInput:()=>u,openNav:()=>f,remove:()=>L,removeChildrens:()=>h,removeClass:()=>x,showLoader:()=>v,showRules:()=>k,showTerms:()=>w,siblings:()=>j,toggleClass:()=>T,togglePassword:()=>y});var a=n(7887),i=n(5289),s=n(6215),c=n(9314),l=n(9787);function u(e){1===e.value.length&&8==+e.value[0]&&(e.value="+7-")}function d(e){var t=document.querySelectorAll(".system_tabs-content-item-change")[e.dataset.changeTab-1];S(e,"tab_h_active"),S(t,"tab_c_active"),x(j(e),"tab_h_active"),x(j(t),"tab_c_active")}function f(){document.getElementById("topnav").style.width="100%"}function p(){document.getElementById("topnav").style.width="0%"}function h(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function m(){i.run((0,l.If)())}function y(e){var t=e.previousElementSibling;"password"===t.type?(t.type="text",e.style.color="#4eb5e6",e.classList.add("icon-eye-off"),e.classList.remove("icon-eye")):(t.type="password",e.style.color="black",e.classList.remove("icon-eye-off"),e.classList.add("icon-eye"))}function v(){loader.style.opacity=1,loader.style.display=""}function g(e){void 0===e&&(e=!1),e?loader.style.display="none":(0,a.j)({duration:1e3,timing:a.i,draw:function(e,t){loader.style.opacity=1-e},callback:function(e){loader.style.display="none"}})}function _(e,t){t=b(t);for(var n=Array.prototype.slice.call(arguments,2),r=e.split("."),o=r.pop(),a=0;a<r.length;a++)t=t[r[a]];return t[o].apply(t,n)}function b(e){switch(e){default:return null;case"Router":return i;case"Conn":return s;case"Util":return r}}function w(){document.getElementById("terms").style.display="",document.getElementById("terms").getElementsByTagName("iframe")[0].src=c.qy}function k(){document.getElementById("terms").style.display="",document.getElementById("terms").getElementsByTagName("iframe")[0].src=c.HA}function L(e){("string"==typeof e||e instanceof String)&&(e=document.querySelectorAll(e)),I(e)||Array.isArray(e)||(e=[e]),e.forEach((function(e){e.parentNode.removeChild(e)}))}function S(e,t){E(e,t,"add")}function x(e,t){E(e,t,"remove")}function T(e,t){E(e,t,"toggle")}function E(e,t,n){I(e)||Array.isArray(e)||(e=[e]),e.forEach((function(e){switch(n){case"remove":e.classList.remove(t);break;case"add":e.classList.add(t);break;default:e.classList.toggle(t)}}))}function I(e){return"object"===o(e)&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&"number"==typeof e.length&&(0===e.length||"object"===o(e[0])&&e[0].nodeType>0)}var j=function(e){return[].slice.call(e.parentNode.children).filter((function(t){return t!==e}))}},1244:(e,t,n)=>{"use strict";function r(e,t,n){var r;function o(e){e.keyCode&&(r=e.keyCode),this.selectionStart<n&&e.preventDefault();var o=0,a=t.replace(/\D/g,""),i=this.value.replace(/\D/g,""),s=t.replace(/[_\d]/g,(function(e){return o<i.length?i.charAt(o++)||a.charAt(o):e}));-1!==(o=s.indexOf("_"))&&(o<n+1&&(o=n),s=s.slice(0,o));var c=t.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=s),"blur"===e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}n.d(t,{s:()=>r})},6145:(e,t,n)=>{"use strict";n.d(t,{s:()=>a,U:()=>i});var r=n(5499),o=n(7887);function a(){document.querySelectorAll(".popup-text").forEach((function(e){e.addEventListener("click",(function(){e.classList.contains("show")&&e.classList.remove("show")}))}))}function i(e,t,n,a,i){a=a||"Ок",i=i||null,r.hideLoader(),overlay.style.display="",popupTitle.style.display=e?"":"none",popupTitle.innerText=e,popupDescription.style.display=t?"":"none",popupDescription.innerText=t,popupMessage.style.display=n?"":"none",popupMessage.innerText=n,popupButton.innerText=a,overlay.callback=i,o.j({duration:333,timing:o.i,draw:function(e,t){overlay.style.opacity=e},fullText:n})}},5289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{run:()=>c,routePrevSection:()=>l});var r=n(9314),o=n(9787),a=n(3457),i=n(5499),s=r._j;function c(e){var t;e||(e="adult"),(0,o.If)()===e&&""!==r.lw.innerHTML||(t=e,r.lw.removeEventListener("click",Event.click),n.e(544).then((function(){var e=[n(6544)("./"+t+".html")];(function(e){!function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.children[0],o=document.documentElement.clientWidth,a=r.lw.children[0],s=0;n.style.left=-o+"px",n.classList.add("newPage"),a&&a.classList.add("oldPage"),r.lw.insertBefore(n,a);var c=setInterval((function(){(s+=30)>=o?(clearInterval(c),a&&(0,i.remove)([a]),n.style.left="0px",n.classList.remove("newPage")):(n.style.left=-o+s+"px",a&&(a.style.left=s+"px"))}),.1)}(e.default),n.e(599).then((function(){var e=[n(8599)("./"+t)];(function(e){e.render(),(0,a.S)(),r.lw.addEventListener("click",Event.click)}).apply(null,e)})).catch(n.oe)}).apply(null,e)})).catch(n.oe),(0,o.zc)(e))}function l(){var e=(0,o.If)();s[e]&&s[e].prevSection&&c(s[e].prevSection)}},9787:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>o,w:()=>a,If:()=>i,zc:()=>s,D5:()=>c,n5:()=>l,qF:()=>u});var r=n(9314);function o(){return localStorage.getItem(r.Zw)?localStorage.getItem(r.Zw):""}function a(e){localStorage.setItem(r.Zw,e)}function i(){return localStorage.getItem("section")}function s(e){localStorage.setItem("section",e)}function c(){return localStorage.getItem(r.Fb)}function l(e){localStorage.setItem(r.Fb,e)}function u(){localStorage.removeItem("walletData"),localStorage.removeItem("LS_walletData"),localStorage.removeItem("LS_walletData_02"),localStorage.removeItem("LS_walletData_03"),localStorage.removeItem("LS_walletData_04"),localStorage.removeItem("LS_walletData_05"),localStorage.removeItem("LS_walletData_06"),localStorage.removeItem("LS_walletData_081221"),localStorage.removeItem(r.Fb),localStorage.removeItem(r.Zw),localStorage.removeItem("section")}},4390:(e,t,n)=>{"use strict";function r(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:()=>o})}},e=>{e(e.s=5579)}]);